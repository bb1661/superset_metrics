{
    "dashboards": [
        {
            "__Dashboard__": {
                "css": "",
                "dashboard_title": "\u041b\u0435\u043d\u0442\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 - \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432\u044b\u0435 \u043c\u0435\u0442\u0440\u0438\u043a\u0438",
                "description": null,
                "json_metadata": "{\"timed_refresh_immune_slices\": [], \"expanded_slices\": {}, \"refresh_frequency\": 0, \"default_filters\": \"{}\", \"color_scheme\": null, \"remote_id\": 2126}",
                "position_json": "{\"CHART-6DW1d3X7mk\":{\"children\":[],\"id\":\"CHART-6DW1d3X7mk\",\"meta\":{\"chartId\":15099,\"height\":50,\"sliceName\":\"ads\",\"uuid\":\"029ba951-6c21-4dbb-bf9c-65090e31e570\",\"width\":6},\"parents\":[\"ROOT_ID\",\"GRID_ID\",\"ROW-zwCQi3ZuKD\"],\"type\":\"CHART\"},\"CHART-LS_ZmFUOc-\":{\"children\":[],\"id\":\"CHART-LS_ZmFUOc-\",\"meta\":{\"chartId\":15102,\"height\":81,\"sliceName\":\"Retention\",\"uuid\":\"c6e70ea0-a9ee-4334-a4cb-c366dc5ab8fc\",\"width\":12},\"parents\":[\"ROOT_ID\",\"GRID_ID\",\"ROW-e4MkB-Yfyk\"],\"type\":\"CHART\"},\"CHART-OorYyGICUv\":{\"children\":[],\"id\":\"CHART-OorYyGICUv\",\"meta\":{\"chartId\":15101,\"height\":50,\"sliceName\":\"ads\",\"uuid\":\"6a6e5144-6117-43b9-99d3-acabdbc2128b\",\"width\":6},\"parents\":[\"ROOT_ID\",\"GRID_ID\",\"ROW-4XBwWbu8Z\"],\"type\":\"CHART\"},\"CHART-TjzDgX5115\":{\"children\":[],\"id\":\"CHART-TjzDgX5115\",\"meta\":{\"chartId\":15100,\"height\":50,\"sliceName\":\"organic\",\"uuid\":\"682d1d0c-ee47-4c64-8b98-e4c579545810\",\"width\":6},\"parents\":[\"ROOT_ID\",\"GRID_ID\",\"ROW-4XBwWbu8Z\"],\"type\":\"CHART\"},\"CHART-ug9f0u1jVP\":{\"children\":[],\"id\":\"CHART-ug9f0u1jVP\",\"meta\":{\"chartId\":15106,\"height\":45,\"sliceName\":\"\\u0410\\u0443\\u0434\\u0438\\u0442\\u043e\\u0440\\u0438\\u044f \\u043f\\u043e \\u043d\\u0435\\u0434\\u0435\\u043b\\u044f\\u043c\",\"uuid\":\"b091cb71-4339-4543-8964-2786d080531b\",\"width\":12},\"parents\":[\"ROOT_ID\",\"GRID_ID\",\"ROW-GU_xlLaoM\"],\"type\":\"CHART\"},\"CHART-y8JF8kkFat\":{\"children\":[],\"id\":\"CHART-y8JF8kkFat\",\"meta\":{\"chartId\":15098,\"height\":50,\"sliceName\":\"organic\",\"uuid\":\"50277123-c9fd-4323-ac42-2f3815b146c1\",\"width\":6},\"parents\":[\"ROOT_ID\",\"GRID_ID\",\"ROW-zwCQi3ZuKD\"],\"type\":\"CHART\"},\"DASHBOARD_VERSION_KEY\":\"v2\",\"GRID_ID\":{\"children\":[\"ROW-e4MkB-Yfyk\",\"ROW-GU_xlLaoM\",\"ROW-zwCQi3ZuKD\",\"ROW-4XBwWbu8Z\"],\"id\":\"GRID_ID\",\"parents\":[\"ROOT_ID\"],\"type\":\"GRID\"},\"HEADER_ID\":{\"id\":\"HEADER_ID\",\"meta\":{\"text\":\"\\u041b\\u0435\\u043d\\u0442\\u0430 \\u043d\\u043e\\u0432\\u043e\\u0441\\u0442\\u0435\\u0439 - \\u043f\\u0440\\u043e\\u0434\\u0443\\u043a\\u0442\\u043e\\u0432\\u044b\\u0435 \\u043c\\u0435\\u0442\\u0440\\u0438\\u043a\\u0438\"},\"type\":\"HEADER\"},\"ROOT_ID\":{\"children\":[\"GRID_ID\"],\"id\":\"ROOT_ID\",\"type\":\"ROOT\"},\"ROW-4XBwWbu8Z\":{\"children\":[\"CHART-TjzDgX5115\",\"CHART-OorYyGICUv\"],\"id\":\"ROW-4XBwWbu8Z\",\"meta\":{\"background\":\"BACKGROUND_TRANSPARENT\"},\"parents\":[\"ROOT_ID\",\"GRID_ID\"],\"type\":\"ROW\"},\"ROW-GU_xlLaoM\":{\"children\":[\"CHART-ug9f0u1jVP\"],\"id\":\"ROW-GU_xlLaoM\",\"meta\":{\"background\":\"BACKGROUND_TRANSPARENT\"},\"parents\":[\"ROOT_ID\",\"GRID_ID\"],\"type\":\"ROW\"},\"ROW-e4MkB-Yfyk\":{\"children\":[\"CHART-LS_ZmFUOc-\"],\"id\":\"ROW-e4MkB-Yfyk\",\"meta\":{\"0\":\"ROOT_ID\",\"background\":\"BACKGROUND_TRANSPARENT\"},\"parents\":[\"ROOT_ID\",\"GRID_ID\"],\"type\":\"ROW\"},\"ROW-zwCQi3ZuKD\":{\"children\":[\"CHART-y8JF8kkFat\",\"CHART-6DW1d3X7mk\"],\"id\":\"ROW-zwCQi3ZuKD\",\"meta\":{\"0\":\"ROOT_ID\",\"background\":\"BACKGROUND_TRANSPARENT\"},\"parents\":[\"ROOT_ID\",\"GRID_ID\"],\"type\":\"ROW\"}}",
                "slices": [
                    {
                        "__Slice__": {
                            "cache_timeout": null,
                            "datasource_name": "simulator_20221020.sor_retention_sources",
                            "datasource_type": "table",
                            "id": 15098,
                            "params": "{\"adhoc_filters\": [{\"clause\": \"WHERE\", \"comparator\": \"organic\", \"expressionType\": \"SIMPLE\", \"filterOptionName\": \"filter_4p4tcbpvx2l_g4t5cngxvsk\", \"isExtra\": false, \"isNew\": false, \"operator\": \"==\", \"operatorId\": \"EQUALS\", \"sqlExpression\": null, \"subject\": \"source\"}], \"annotation_layers\": [], \"bar_stacked\": true, \"bottom_margin\": \"auto\", \"color_scheme\": \"supersetColors\", \"comparison_type\": \"values\", \"datasource\": \"7126__table\", \"extra_form_data\": {}, \"granularity_sqla\": \"this_week\", \"groupby\": [\"status\", \"source\"], \"label_colors\": {}, \"left_margin\": \"auto\", \"limit\": 100, \"line_interpolation\": \"linear\", \"metrics\": [{\"aggregate\": \"MAX\", \"column\": {\"column_name\": \"num_users\", \"description\": null, \"expression\": null, \"filterable\": true, \"groupby\": true, \"id\": 36986, \"is_dttm\": false, \"python_date_format\": null, \"type\": \"INT64\", \"type_generic\": 0, \"verbose_name\": null}, \"expressionType\": \"SIMPLE\", \"hasCustomLabel\": false, \"isNew\": false, \"label\": \"MAX(num_users)\", \"optionName\": \"metric_iwp3n72ydn_icg54wjp5qp\", \"sqlExpression\": null}], \"order_desc\": true, \"rich_tooltip\": true, \"rolling_type\": \"None\", \"row_limit\": 1000, \"show_brush\": \"auto\", \"slice_id\": 15098, \"time_grain_sqla\": \"P1D\", \"time_range\": \"No filter\", \"time_range_endpoints\": [\"inclusive\", \"exclusive\"], \"url_params\": {}, \"viz_type\": \"bar\", \"x_axis_format\": \"smart_date\", \"x_ticks_layout\": \"auto\", \"y_axis_bounds\": [-20000, 40000], \"y_axis_format\": \"SMART_NUMBER\", \"remote_id\": 15098, \"datasource_name\": \"sor_retention_sources\", \"schema\": \"simulator_20221020\", \"database_name\": \"ClickHouse: simulator\"}",
                            "query_context": "{\"datasource\":{\"id\":7126,\"type\":\"table\"},\"force\":false,\"queries\":[{\"time_range\":\"No filter\",\"granularity\":\"this_week\",\"filters\":[{\"col\":\"source\",\"op\":\"==\",\"val\":\"organic\"}],\"extras\":{\"time_grain_sqla\":\"P1D\",\"time_range_endpoints\":[\"inclusive\",\"exclusive\"],\"having\":\"\",\"having_druid\":[],\"where\":\"\"},\"applied_time_extras\":{},\"columns\":[\"status\",\"source\"],\"metrics\":[{\"aggregate\":\"MAX\",\"column\":{\"column_name\":\"num_users\",\"description\":null,\"expression\":null,\"filterable\":true,\"groupby\":true,\"id\":36986,\"is_dttm\":false,\"python_date_format\":null,\"type\":\"INT64\",\"type_generic\":0,\"verbose_name\":null},\"expressionType\":\"SIMPLE\",\"hasCustomLabel\":false,\"isNew\":false,\"label\":\"MAX(num_users)\",\"optionName\":\"metric_iwp3n72ydn_icg54wjp5qp\",\"sqlExpression\":null}],\"annotation_layers\":[],\"row_limit\":1000,\"timeseries_limit\":100,\"order_desc\":true,\"url_params\":{},\"custom_params\":{},\"custom_form_data\":{}}],\"result_format\":\"json\",\"result_type\":\"full\"}",
                            "slice_name": "organic",
                            "viz_type": "bar"
                        }
                    },
                    {
                        "__Slice__": {
                            "cache_timeout": null,
                            "datasource_name": "simulator_20221020.sor_retention_sources",
                            "datasource_type": "table",
                            "id": 15099,
                            "params": "{\"adhoc_filters\": [{\"clause\": \"WHERE\", \"comparator\": \"ads\", \"expressionType\": \"SIMPLE\", \"filterOptionName\": \"filter_4p4tcbpvx2l_g4t5cngxvsk\", \"isExtra\": false, \"isNew\": false, \"operator\": \"==\", \"operatorId\": \"EQUALS\", \"sqlExpression\": null, \"subject\": \"source\"}], \"annotation_layers\": [], \"bar_stacked\": true, \"bottom_margin\": \"auto\", \"color_scheme\": \"supersetColors\", \"comparison_type\": \"values\", \"datasource\": \"7126__table\", \"extra_form_data\": {}, \"granularity_sqla\": \"this_week\", \"groupby\": [\"status\", \"source\"], \"label_colors\": {}, \"left_margin\": \"auto\", \"limit\": 100, \"line_interpolation\": \"linear\", \"metrics\": [{\"aggregate\": \"MAX\", \"column\": {\"column_name\": \"num_users\", \"description\": null, \"expression\": null, \"filterable\": true, \"groupby\": true, \"id\": 36986, \"is_dttm\": false, \"python_date_format\": null, \"type\": \"INT64\", \"type_generic\": 0, \"verbose_name\": null}, \"expressionType\": \"SIMPLE\", \"hasCustomLabel\": false, \"isNew\": false, \"label\": \"MAX(num_users)\", \"optionName\": \"metric_iwp3n72ydn_icg54wjp5qp\", \"sqlExpression\": null}], \"order_desc\": true, \"rich_tooltip\": true, \"rolling_type\": \"None\", \"row_limit\": 1000, \"show_brush\": \"auto\", \"slice_id\": 15099, \"time_grain_sqla\": \"P1D\", \"time_range\": \"No filter\", \"time_range_endpoints\": [\"inclusive\", \"exclusive\"], \"url_params\": {}, \"viz_type\": \"bar\", \"x_axis_format\": \"smart_date\", \"x_ticks_layout\": \"auto\", \"y_axis_bounds\": [-20000, 40000], \"y_axis_format\": \"SMART_NUMBER\", \"remote_id\": 15099, \"datasource_name\": \"sor_retention_sources\", \"schema\": \"simulator_20221020\", \"database_name\": \"ClickHouse: simulator\"}",
                            "query_context": "{\"datasource\":{\"id\":7126,\"type\":\"table\"},\"force\":false,\"queries\":[{\"time_range\":\"No filter\",\"granularity\":\"this_week\",\"filters\":[{\"col\":\"source\",\"op\":\"==\",\"val\":\"ads\"}],\"extras\":{\"time_grain_sqla\":\"P1D\",\"time_range_endpoints\":[\"inclusive\",\"exclusive\"],\"having\":\"\",\"having_druid\":[],\"where\":\"\"},\"applied_time_extras\":{},\"columns\":[\"status\",\"source\"],\"metrics\":[{\"aggregate\":\"MAX\",\"column\":{\"column_name\":\"num_users\",\"description\":null,\"expression\":null,\"filterable\":true,\"groupby\":true,\"id\":36986,\"is_dttm\":false,\"python_date_format\":null,\"type\":\"INT64\",\"type_generic\":0,\"verbose_name\":null},\"expressionType\":\"SIMPLE\",\"hasCustomLabel\":false,\"isNew\":false,\"label\":\"MAX(num_users)\",\"optionName\":\"metric_iwp3n72ydn_icg54wjp5qp\",\"sqlExpression\":null}],\"annotation_layers\":[],\"row_limit\":1000,\"timeseries_limit\":100,\"order_desc\":true,\"url_params\":{},\"custom_params\":{},\"custom_form_data\":{}}],\"result_format\":\"json\",\"result_type\":\"full\"}",
                            "slice_name": "ads",
                            "viz_type": "bar"
                        }
                    },
                    {
                        "__Slice__": {
                            "cache_timeout": null,
                            "datasource_name": "simulator_20221020.sor_retention_sources",
                            "datasource_type": "table",
                            "id": 15100,
                            "params": "{\"adhoc_filters\": [{\"clause\": \"WHERE\", \"comparator\": \"organic\", \"expressionType\": \"SIMPLE\", \"filterOptionName\": \"filter_4p4tcbpvx2l_g4t5cngxvsk\", \"isExtra\": false, \"isNew\": false, \"operator\": \"==\", \"operatorId\": \"EQUALS\", \"sqlExpression\": null, \"subject\": \"source\"}, {\"clause\": \"WHERE\", \"comparator\": \"gone\", \"expressionType\": \"SIMPLE\", \"filterOptionName\": \"filter_lg2ze7rd7i8_qhfjgh3ct49\", \"isExtra\": false, \"isNew\": false, \"operator\": \"!=\", \"operatorId\": \"NOT_EQUALS\", \"sqlExpression\": null, \"subject\": \"status\"}], \"annotation_layers\": [], \"bar_stacked\": true, \"bottom_margin\": \"auto\", \"color_scheme\": \"supersetColors\", \"comparison_type\": \"values\", \"datasource\": \"7126__table\", \"extra_form_data\": {}, \"granularity_sqla\": \"this_week\", \"groupby\": [\"source\"], \"label_colors\": {}, \"left_margin\": \"auto\", \"limit\": 100, \"line_interpolation\": \"linear\", \"metrics\": [{\"aggregate\": \"SUM\", \"column\": {\"column_name\": \"num_users\", \"description\": null, \"expression\": null, \"filterable\": true, \"groupby\": true, \"id\": 36986, \"is_dttm\": false, \"python_date_format\": null, \"type\": \"INT64\", \"type_generic\": 0, \"verbose_name\": null}, \"expressionType\": \"SIMPLE\", \"hasCustomLabel\": false, \"isNew\": false, \"label\": \"SUM(num_users)\", \"optionName\": \"metric_iwp3n72ydn_icg54wjp5qp\", \"sqlExpression\": null}], \"order_desc\": true, \"rich_tooltip\": true, \"rolling_type\": \"None\", \"row_limit\": 1000, \"show_brush\": \"auto\", \"time_grain_sqla\": \"P1D\", \"time_range\": \"No filter\", \"time_range_endpoints\": [\"inclusive\", \"exclusive\"], \"url_params\": {}, \"viz_type\": \"bar\", \"x_axis_format\": \"smart_date\", \"x_ticks_layout\": \"auto\", \"y_axis_bounds\": [-20000, 40000], \"y_axis_format\": \"SMART_NUMBER\", \"remote_id\": 15100, \"datasource_name\": \"sor_retention_sources\", \"schema\": \"simulator_20221020\", \"database_name\": \"ClickHouse: simulator\"}",
                            "query_context": "{\"datasource\":{\"id\":7126,\"type\":\"table\"},\"force\":false,\"queries\":[{\"time_range\":\"No filter\",\"granularity\":\"this_week\",\"filters\":[{\"col\":\"source\",\"op\":\"==\",\"val\":\"organic\"},{\"col\":\"status\",\"op\":\"!=\",\"val\":\"gone\"}],\"extras\":{\"time_grain_sqla\":\"P1D\",\"time_range_endpoints\":[\"inclusive\",\"exclusive\"],\"having\":\"\",\"having_druid\":[],\"where\":\"\"},\"applied_time_extras\":{},\"columns\":[\"source\"],\"metrics\":[{\"expressionType\":\"SIMPLE\",\"column\":{\"column_name\":\"num_users\",\"description\":null,\"expression\":null,\"filterable\":true,\"groupby\":true,\"id\":36986,\"is_dttm\":false,\"python_date_format\":null,\"type\":\"INT64\",\"type_generic\":0,\"verbose_name\":null},\"aggregate\":\"SUM\",\"sqlExpression\":null,\"isNew\":false,\"hasCustomLabel\":false,\"label\":\"SUM(num_users)\",\"optionName\":\"metric_iwp3n72ydn_icg54wjp5qp\"}],\"annotation_layers\":[],\"row_limit\":1000,\"timeseries_limit\":100,\"order_desc\":true,\"url_params\":{},\"custom_params\":{},\"custom_form_data\":{}}],\"result_format\":\"json\",\"result_type\":\"full\"}",
                            "slice_name": "organic",
                            "viz_type": "bar"
                        }
                    },
                    {
                        "__Slice__": {
                            "cache_timeout": null,
                            "datasource_name": "simulator_20221020.sor_retention_sources",
                            "datasource_type": "table",
                            "id": 15101,
                            "params": "{\"adhoc_filters\": [{\"clause\": \"WHERE\", \"comparator\": \"ads\", \"expressionType\": \"SIMPLE\", \"filterOptionName\": \"filter_4p4tcbpvx2l_g4t5cngxvsk\", \"isExtra\": false, \"isNew\": false, \"operator\": \"==\", \"operatorId\": \"EQUALS\", \"sqlExpression\": null, \"subject\": \"source\"}, {\"clause\": \"WHERE\", \"comparator\": \"gone\", \"expressionType\": \"SIMPLE\", \"filterOptionName\": \"filter_qikjjcmne3_cuwsedfj5kp\", \"isExtra\": false, \"isNew\": false, \"operator\": \"!=\", \"operatorId\": \"NOT_EQUALS\", \"sqlExpression\": null, \"subject\": \"status\"}], \"annotation_layers\": [], \"bar_stacked\": true, \"bottom_margin\": \"auto\", \"color_scheme\": \"supersetColors\", \"comparison_type\": \"values\", \"datasource\": \"7126__table\", \"extra_form_data\": {}, \"granularity_sqla\": \"this_week\", \"groupby\": [], \"label_colors\": {}, \"left_margin\": \"auto\", \"limit\": 100, \"line_interpolation\": \"linear\", \"metrics\": [{\"aggregate\": \"SUM\", \"column\": {\"column_name\": \"num_users\", \"description\": null, \"expression\": null, \"filterable\": true, \"groupby\": true, \"id\": 36986, \"is_dttm\": false, \"python_date_format\": null, \"type\": \"INT64\", \"type_generic\": 0, \"verbose_name\": null}, \"expressionType\": \"SIMPLE\", \"hasCustomLabel\": false, \"isNew\": false, \"label\": \"SUM(num_users)\", \"optionName\": \"metric_iwp3n72ydn_icg54wjp5qp\", \"sqlExpression\": null}], \"order_desc\": true, \"rich_tooltip\": true, \"rolling_type\": \"None\", \"row_limit\": 1000, \"show_brush\": \"auto\", \"time_grain_sqla\": \"P1D\", \"time_range\": \"No filter\", \"time_range_endpoints\": [\"inclusive\", \"exclusive\"], \"url_params\": {}, \"viz_type\": \"bar\", \"x_axis_format\": \"smart_date\", \"x_ticks_layout\": \"auto\", \"y_axis_bounds\": [-20000, 40000], \"y_axis_format\": \"SMART_NUMBER\", \"remote_id\": 15101, \"datasource_name\": \"sor_retention_sources\", \"schema\": \"simulator_20221020\", \"database_name\": \"ClickHouse: simulator\"}",
                            "query_context": "{\"datasource\":{\"id\":7126,\"type\":\"table\"},\"force\":false,\"queries\":[{\"time_range\":\"No filter\",\"granularity\":\"this_week\",\"filters\":[{\"col\":\"source\",\"op\":\"==\",\"val\":\"ads\"},{\"col\":\"status\",\"op\":\"!=\",\"val\":\"gone\"}],\"extras\":{\"time_grain_sqla\":\"P1D\",\"time_range_endpoints\":[\"inclusive\",\"exclusive\"],\"having\":\"\",\"having_druid\":[],\"where\":\"\"},\"applied_time_extras\":{},\"columns\":[],\"metrics\":[{\"expressionType\":\"SIMPLE\",\"column\":{\"column_name\":\"num_users\",\"description\":null,\"expression\":null,\"filterable\":true,\"groupby\":true,\"id\":36986,\"is_dttm\":false,\"python_date_format\":null,\"type\":\"INT64\",\"type_generic\":0,\"verbose_name\":null},\"aggregate\":\"SUM\",\"sqlExpression\":null,\"isNew\":false,\"hasCustomLabel\":false,\"label\":\"SUM(num_users)\",\"optionName\":\"metric_iwp3n72ydn_icg54wjp5qp\"}],\"annotation_layers\":[],\"row_limit\":1000,\"timeseries_limit\":100,\"order_desc\":true,\"url_params\":{},\"custom_params\":{},\"custom_form_data\":{}}],\"result_format\":\"json\",\"result_type\":\"full\"}",
                            "slice_name": "ads",
                            "viz_type": "bar"
                        }
                    },
                    {
                        "__Slice__": {
                            "cache_timeout": null,
                            "datasource_name": "simulator_20221020.sor_retention",
                            "datasource_type": "table",
                            "id": 15102,
                            "params": "{\"adhoc_filters\": [], \"all_columns_x\": \"date\", \"all_columns_y\": \"start_date\", \"bottom_margin\": \"auto\", \"canvas_image_rendering\": \"pixelated\", \"datasource\": \"6996__table\", \"extra_form_data\": {}, \"granularity_sqla\": null, \"left_margin\": \"auto\", \"linear_color_scheme\": \"dark_blue\", \"metric\": {\"aggregate\": \"MAX\", \"column\": {\"column_name\": \"active_users\", \"description\": null, \"expression\": null, \"filterable\": true, \"groupby\": true, \"id\": 36171, \"is_dttm\": false, \"python_date_format\": null, \"type\": \"UINT64\", \"type_generic\": null, \"verbose_name\": null}, \"expressionType\": \"SIMPLE\", \"hasCustomLabel\": false, \"isNew\": false, \"label\": \"MAX(active_users)\", \"optionName\": \"metric_ktrywmfucl_pq09gwrnu9\", \"sqlExpression\": null}, \"normalize_across\": \"y\", \"row_limit\": 1000, \"show_perc\": true, \"show_values\": true, \"sort_x_axis\": \"alpha_asc\", \"sort_y_axis\": \"alpha_asc\", \"time_range\": \"No filter\", \"time_range_endpoints\": [\"inclusive\", \"exclusive\"], \"url_params\": {}, \"viz_type\": \"heatmap\", \"xscale_interval\": null, \"y_axis_bounds\": [null, null], \"y_axis_format\": \"SMART_NUMBER\", \"yscale_interval\": null, \"remote_id\": 15102, \"datasource_name\": \"sor_retention\", \"schema\": \"simulator_20221020\", \"database_name\": \"ClickHouse: simulator\"}",
                            "query_context": "{\"datasource\":{\"id\":6996,\"type\":\"table\"},\"force\":false,\"queries\":[{\"time_range\":\"No filter\",\"granularity\":null,\"filters\":[],\"extras\":{\"time_range_endpoints\":[\"inclusive\",\"exclusive\"],\"having\":\"\",\"having_druid\":[],\"where\":\"\"},\"applied_time_extras\":{},\"columns\":[],\"metrics\":[{\"aggregate\":\"MAX\",\"column\":{\"column_name\":\"active_users\",\"description\":null,\"expression\":null,\"filterable\":true,\"groupby\":true,\"id\":36171,\"is_dttm\":false,\"python_date_format\":null,\"type\":\"UINT64\",\"type_generic\":null,\"verbose_name\":null},\"expressionType\":\"SIMPLE\",\"hasCustomLabel\":false,\"isNew\":false,\"label\":\"MAX(active_users)\",\"optionName\":\"metric_ktrywmfucl_pq09gwrnu9\",\"sqlExpression\":null}],\"annotation_layers\":[],\"row_limit\":1000,\"timeseries_limit\":0,\"order_desc\":true,\"url_params\":{},\"custom_params\":{},\"custom_form_data\":{}}],\"result_format\":\"json\",\"result_type\":\"full\"}",
                            "slice_name": "Retention",
                            "viz_type": "heatmap"
                        }
                    },
                    {
                        "__Slice__": {
                            "cache_timeout": null,
                            "datasource_name": "simulator_20221020.sor_retention_sources",
                            "datasource_type": "table",
                            "id": 15106,
                            "params": "{\"adhoc_filters\": [], \"annotation_layers\": [], \"bar_stacked\": true, \"bottom_margin\": \"auto\", \"color_scheme\": \"supersetColors\", \"comparison_type\": \"values\", \"datasource\": \"7126__table\", \"extra_form_data\": {}, \"granularity_sqla\": \"this_week\", \"groupby\": [\"status\"], \"label_colors\": {}, \"left_margin\": \"auto\", \"limit\": 100, \"line_interpolation\": \"linear\", \"metrics\": [{\"aggregate\": \"MAX\", \"column\": {\"column_name\": \"num_users\", \"description\": null, \"expression\": null, \"filterable\": true, \"groupby\": true, \"id\": 36986, \"is_dttm\": false, \"python_date_format\": null, \"type\": \"INT64\", \"type_generic\": 0, \"verbose_name\": null}, \"expressionType\": \"SIMPLE\", \"hasCustomLabel\": false, \"isNew\": false, \"label\": \"MAX(num_users)\", \"optionName\": \"metric_iwp3n72ydn_icg54wjp5qp\", \"sqlExpression\": null}], \"order_desc\": true, \"rich_tooltip\": true, \"rolling_type\": \"None\", \"row_limit\": 1000, \"show_brush\": \"auto\", \"time_grain_sqla\": \"P1D\", \"time_range\": \"No filter\", \"time_range_endpoints\": [\"inclusive\", \"exclusive\"], \"url_params\": {}, \"viz_type\": \"bar\", \"x_axis_format\": \"smart_date\", \"x_ticks_layout\": \"auto\", \"y_axis_bounds\": [null, null], \"y_axis_format\": \"SMART_NUMBER\", \"remote_id\": 15106, \"datasource_name\": \"sor_retention_sources\", \"schema\": \"simulator_20221020\", \"database_name\": \"ClickHouse: simulator\"}",
                            "query_context": "{\"datasource\":{\"id\":7126,\"type\":\"table\"},\"force\":false,\"queries\":[{\"time_range\":\"No filter\",\"granularity\":\"this_week\",\"filters\":[],\"extras\":{\"time_grain_sqla\":\"P1D\",\"time_range_endpoints\":[\"inclusive\",\"exclusive\"],\"having\":\"\",\"having_druid\":[],\"where\":\"\"},\"applied_time_extras\":{},\"columns\":[\"status\"],\"metrics\":[{\"aggregate\":\"MAX\",\"column\":{\"column_name\":\"num_users\",\"description\":null,\"expression\":null,\"filterable\":true,\"groupby\":true,\"id\":36986,\"is_dttm\":false,\"python_date_format\":null,\"type\":\"INT64\",\"type_generic\":0,\"verbose_name\":null},\"expressionType\":\"SIMPLE\",\"hasCustomLabel\":false,\"isNew\":false,\"label\":\"MAX(num_users)\",\"optionName\":\"metric_iwp3n72ydn_icg54wjp5qp\",\"sqlExpression\":null}],\"annotation_layers\":[],\"row_limit\":1000,\"timeseries_limit\":100,\"order_desc\":true,\"url_params\":{},\"custom_params\":{},\"custom_form_data\":{}}],\"result_format\":\"json\",\"result_type\":\"full\"}",
                            "slice_name": "\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f \u043f\u043e \u043d\u0435\u0434\u0435\u043b\u044f\u043c",
                            "viz_type": "bar"
                        }
                    }
                ],
                "slug": null
            }
        }
    ],
    "datasources": [
        {
            "__SqlaTable__": {
                "cache_timeout": null,
                "columns": [
                    {
                        "__TableColumn__": {
                            "changed_by_fk": 384,
                            "changed_on": {
                                "__datetime__": "2022-11-01T10:35:59"
                            },
                            "column_name": "date",
                            "created_by_fk": 384,
                            "created_on": {
                                "__datetime__": "2022-11-01T10:32:06"
                            },
                            "description": null,
                            "expression": null,
                            "filterable": true,
                            "groupby": true,
                            "id": 36169,
                            "is_active": null,
                            "is_dttm": false,
                            "python_date_format": null,
                            "table_id": 6996,
                            "type": "STRING",
                            "uuid": "df526619-70ad-4032-8d48-ca01e0df3d5e",
                            "verbose_name": null
                        }
                    },
                    {
                        "__TableColumn__": {
                            "changed_by_fk": 384,
                            "changed_on": {
                                "__datetime__": "2022-11-01T10:35:59"
                            },
                            "column_name": "start_date",
                            "created_by_fk": 384,
                            "created_on": {
                                "__datetime__": "2022-11-01T10:32:06"
                            },
                            "description": null,
                            "expression": null,
                            "filterable": true,
                            "groupby": true,
                            "id": 36170,
                            "is_active": null,
                            "is_dttm": false,
                            "python_date_format": null,
                            "table_id": 6996,
                            "type": "STRING",
                            "uuid": "0a754d70-c128-4567-9e17-d7b8ca5b7b9e",
                            "verbose_name": null
                        }
                    },
                    {
                        "__TableColumn__": {
                            "changed_by_fk": 384,
                            "changed_on": {
                                "__datetime__": "2022-11-01T10:35:59"
                            },
                            "column_name": "active_users",
                            "created_by_fk": 384,
                            "created_on": {
                                "__datetime__": "2022-11-01T10:32:06"
                            },
                            "description": null,
                            "expression": null,
                            "filterable": true,
                            "groupby": true,
                            "id": 36171,
                            "is_active": null,
                            "is_dttm": false,
                            "python_date_format": null,
                            "table_id": 6996,
                            "type": "UINT64",
                            "uuid": "87596d1b-2478-4988-82e0-77f792b89a38",
                            "verbose_name": null
                        }
                    }
                ],
                "database_id": 1,
                "default_endpoint": null,
                "description": null,
                "extra": null,
                "fetch_values_predicate": null,
                "filter_select_enabled": false,
                "main_dttm_col": null,
                "metrics": [
                    {
                        "__SqlMetric__": {
                            "changed_by_fk": 384,
                            "changed_on": {
                                "__datetime__": "2022-11-01T10:36:47"
                            },
                            "created_by_fk": 384,
                            "created_on": {
                                "__datetime__": "2022-11-01T10:32:06"
                            },
                            "d3format": null,
                            "description": null,
                            "expression": "count(*)",
                            "extra": "{\"warning_markdown\":\"\"}",
                            "id": 7129,
                            "metric_name": "count",
                            "metric_type": null,
                            "table_id": 6996,
                            "uuid": "280e1807-6277-4ea9-8db3-9452a3c3c464",
                            "verbose_name": null,
                            "warning_text": null
                        }
                    }
                ],
                "offset": 0,
                "params": "{\"remote_id\": 6996, \"database_name\": \"ClickHouse: simulator\"}",
                "schema": "simulator_20221020",
                "sql": "select toString(date) as date,toString(start_date) as start_date,count(user_id) as active_users from\n\n\n(SELECT user_id,min(toDate(time)) as start_date\nfrom simulator_20221020.feed_actions \ngroup by user_id\nhaving start_date>(today()-20)) t1\n\nJOIN \n\n(select distinct user_id,toDate(time) as date\nfrom simulator_20221020.feed_actions) t2\n\nusing user_id\ngroup by date,start_date",
                "table_name": "sor_retention",
                "template_params": null
            }
        },
        {
            "__SqlaTable__": {
                "cache_timeout": null,
                "columns": [
                    {
                        "__TableColumn__": {
                            "changed_by_fk": 384,
                            "changed_on": {
                                "__datetime__": "2022-11-03T11:51:46"
                            },
                            "column_name": "this_week",
                            "created_by_fk": 384,
                            "created_on": {
                                "__datetime__": "2022-11-03T11:51:46"
                            },
                            "description": null,
                            "expression": null,
                            "filterable": true,
                            "groupby": true,
                            "id": 36984,
                            "is_active": true,
                            "is_dttm": true,
                            "python_date_format": null,
                            "table_id": 7126,
                            "type": "DATE",
                            "uuid": "a20ee8cf-4094-4010-ac67-4e37825c452f",
                            "verbose_name": null
                        }
                    },
                    {
                        "__TableColumn__": {
                            "changed_by_fk": 384,
                            "changed_on": {
                                "__datetime__": "2022-11-03T11:51:46"
                            },
                            "column_name": "previous_week",
                            "created_by_fk": 384,
                            "created_on": {
                                "__datetime__": "2022-11-03T11:51:46"
                            },
                            "description": null,
                            "expression": null,
                            "filterable": true,
                            "groupby": true,
                            "id": 36985,
                            "is_active": true,
                            "is_dttm": true,
                            "python_date_format": null,
                            "table_id": 7126,
                            "type": "DATE",
                            "uuid": "f02b8479-4602-4aa5-b61e-e92efa518e63",
                            "verbose_name": null
                        }
                    },
                    {
                        "__TableColumn__": {
                            "changed_by_fk": 384,
                            "changed_on": {
                                "__datetime__": "2022-11-03T11:51:46"
                            },
                            "column_name": "num_users",
                            "created_by_fk": 384,
                            "created_on": {
                                "__datetime__": "2022-11-03T11:51:46"
                            },
                            "description": null,
                            "expression": null,
                            "filterable": true,
                            "groupby": true,
                            "id": 36986,
                            "is_active": true,
                            "is_dttm": false,
                            "python_date_format": null,
                            "table_id": 7126,
                            "type": "INT64",
                            "uuid": "0ed9bd33-107f-41d3-8398-55fab45d48a9",
                            "verbose_name": null
                        }
                    },
                    {
                        "__TableColumn__": {
                            "changed_by_fk": 384,
                            "changed_on": {
                                "__datetime__": "2022-11-03T11:51:46"
                            },
                            "column_name": "status",
                            "created_by_fk": 384,
                            "created_on": {
                                "__datetime__": "2022-11-03T11:51:46"
                            },
                            "description": null,
                            "expression": null,
                            "filterable": true,
                            "groupby": true,
                            "id": 36987,
                            "is_active": true,
                            "is_dttm": false,
                            "python_date_format": null,
                            "table_id": 7126,
                            "type": "STRING",
                            "uuid": "425019a1-8a46-4561-a070-9942d720223f",
                            "verbose_name": null
                        }
                    },
                    {
                        "__TableColumn__": {
                            "changed_by_fk": 384,
                            "changed_on": {
                                "__datetime__": "2022-11-03T11:51:46"
                            },
                            "column_name": "source",
                            "created_by_fk": 384,
                            "created_on": {
                                "__datetime__": "2022-11-03T11:51:46"
                            },
                            "description": null,
                            "expression": null,
                            "filterable": true,
                            "groupby": true,
                            "id": 36988,
                            "is_active": true,
                            "is_dttm": false,
                            "python_date_format": null,
                            "table_id": 7126,
                            "type": "STRING",
                            "uuid": "0869c21f-c87c-47fe-a28f-fd411dad9c48",
                            "verbose_name": null
                        }
                    }
                ],
                "database_id": 1,
                "default_endpoint": null,
                "description": null,
                "extra": null,
                "fetch_values_predicate": null,
                "filter_select_enabled": false,
                "main_dttm_col": null,
                "metrics": [
                    {
                        "__SqlMetric__": {
                            "changed_by_fk": 384,
                            "changed_on": {
                                "__datetime__": "2022-11-03T11:51:46"
                            },
                            "created_by_fk": 384,
                            "created_on": {
                                "__datetime__": "2022-11-03T11:51:46"
                            },
                            "d3format": null,
                            "description": null,
                            "expression": "count(*)",
                            "extra": null,
                            "id": 7259,
                            "metric_name": "count",
                            "metric_type": null,
                            "table_id": 7126,
                            "uuid": "f40acf16-132a-416f-ba0b-1d133741ddf7",
                            "verbose_name": null,
                            "warning_text": null
                        }
                    }
                ],
                "offset": 0,
                "params": "{\"remote_id\": 7126, \"database_name\": \"ClickHouse: simulator\"}",
                "schema": "simulator_20221020",
                "sql": "SELECT this_week, previous_week, -uniq(user_id) as num_users, status,source FROM\n\n(SELECT user_id, \ngroupUniqArray(toMonday(toDate(time))) as weeks_visited, \naddWeeks(arrayJoin(weeks_visited), +1) this_week, \nif(has(weeks_visited, this_week) = 1, 'retained', 'gone') as status, \naddWeeks(this_week, -1) as previous_week,source\nFROM simulator_20221020.feed_actions \ngroup by user_id,source)\n\nwhere status = 'gone'\n\ngroup by this_week, previous_week, status,source\n\nHAVING this_week != addWeeks(toMonday(today()), +1)\n\nunion all\n\n\nSELECT this_week, previous_week, toInt64(uniq(user_id)) as num_users, status, source FROM\n\n(SELECT user_id, source,\ngroupUniqArray(toMonday(toDate(time))) as weeks_visited, \narrayJoin(weeks_visited) this_week, \nif(has(weeks_visited, addWeeks(this_week, -1)) = 1, 'retained', 'new') as status, \naddWeeks(this_week, -1) as previous_week\nFROM simulator_20221020.feed_actions \ngroup by user_id,source)\n\ngroup by this_week, previous_week, status,source",
                "table_name": "sor_retention_sources",
                "template_params": null
            }
        }
    ]
}